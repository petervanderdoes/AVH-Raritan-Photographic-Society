var rpssocial={apiconfig:[],analytics:"o",setanalytics:function(aID){rpssocial.analytics=aID},addurlparam:function(url,param,value){var qstring=/\?.+$/;return qstring.test(url)?url+"&"+param+"="+value:url+"?"+param+"="+value},defaulurlparam:function(url){return url=rpssocial.addurlparam(url,"utm_campaign","general"),url=rpssocial.addurlparam(url,"utm_source","site")},sites:{facebook:{buildurl:function(tOBJ){var url=rpssocial.defaulurlparam(tOBJ.url);return url=rpssocial.addurlparam(url,"utm_medium","facebook"),"http://www.facebook.com/share.php?u="+encodeURIComponent(url)+"&title="+encodeURIComponent(tOBJ.title)},popwidth:550,popheight:420,popscroll:"no",loadapi:function(cb){!function(d,debug){var js,id="facebook-jssdk",ref=d.getElementsByTagName("script")[0];d.getElementById(id)||(js=d.createElement("script"),js.id=id,js.async=!0,js.src="//connect.facebook.net/en_US/all"+(debug?"/debug":"")+".js",ref.parentNode.insertBefore(js,ref))}(document,!1),window.fbAsyncInit=function(){FB.init({appId:"1509711475952744",xfbml:!0,version:"v2.1"})}}},twitter:{buildurl:function(tOBJ){var url=rpssocial.defaulurlparam(tOBJ.url);return url=rpssocial.addurlparam(url,"utm_medium","twitter"),"http://twitter.com/intent/tweet?url="+encodeURIComponent(url)+"&text="+encodeURIComponent(tOBJ.title)},popwidth:550,popheight:460,popscroll:"no",loadapi:function(cb){window.twttr=function(d,s,id){var t,js,fjs=d.getElementsByTagName(s)[0];return d.getElementById(id)?void 0:(js=d.createElement(s),js.id=id,js.src="//platform.twitter.com/widgets.js",fjs.parentNode.insertBefore(js,fjs),window.twttr||(t={_e:[],ready:function(f){t._e.push(f)}}))}(document,"script","twitter-wjs"),window.twttr.ready(function(twttr){twttr.events.bind("click",function(event){window.rpssocial.share.track({type:"click",site:"twitter"})}),"function"==typeof cb&&cb.apply()})}},googleplus:{buildurl:function(tOBJ){var url=rpssocial.defaulurlparam(tOBJ.url);return url=rpssocial.addurlparam(url,"utm_medium","googleplus"),"https://plus.google.com/share?url="+encodeURIComponent(url)+"&hl=en"},popwidth:600,popheight:600,popscroll:"yes",loadapi:function(cb){jQuery.getScript("https://apis.google.com/js/plusone.js",function(){"function"==typeof cb&&cb.apply()})}},linkedin:{buildurl:function(tOBJ){var url=rpssocial.defaulurlparam(tOBJ.url);return url=rpssocial.addurlparam(url,"utm_medium","linkedin"),"http://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(rpssocial.addurlparam(tOBJ.url,"sr","share_linkedin"))+"&title="+encodeURIComponent(tOBJ.title)},popwidth:550,popheight:570,popscroll:"no",loadapi:function(cb){jQuery.getScript("http://platform.linkedin.com/in.js",function(){"function"==typeof cb&&cb.apply()})}},email:{buildurl:function(tOBJ){return"mailto:?subject=[Raritan Photographic Society] "+tOBJ.title+"&body="+tOBJ.title+": "+rpssocial.addurlparam(tOBJ.url,"sr","email")},popwidth:1,popheight:1,popscroll:"no"},buffer:{buildurl:function(tOBJ){return"http://bufferapp.com/add?text="+encodeURIComponent(tOBJ.title)+"&url="+encodeURIComponent(rpssocial.addurlparam(tOBJ.url,"sr","buffer"))},popwidth:750,popheight:500,popscroll:"yes"},digg:{buildurl:function(tOBJ){return"http://www.digg.com/submit?phase=2&url="+encodeURIComponent(rpssocial.addurlparam(tOBJ.url,"sr","digg"))+"&title="+encodeURIComponent(tOBJ.title)},popwidth:970,popheight:500,popscroll:"yes"},stumbleupon:{buildurl:function(tOBJ){return"http://www.stumbleupon.com/submit?url="+encodeURIComponent(rpssocial.addurlparam(tOBJ.url,"sr","stumbleupon"))+"&title="+encodeURIComponent(tOBJ.title)},popwidth:750,popheight:500,popscroll:"yes"},delicious:{buildurl:function(tOBJ){return"http://del.icio.us/post?url="+encodeURIComponent(rpssocial.addurlparam(tOBJ.url,"sr","delicious"))+"&title="+encodeURIComponent(tOBJ.title)},popwidth:750,popheight:500,popscroll:"yes"},technorati:{buildurl:function(tOBJ){return"http://technorati.com/faves?add="+encodeURIComponent(rpssocial.addurlparam(tOBJ.url,"sr","technorati"))+"&title="+encodeURIComponent(tOBJ.title)},popwidth:750,popheight:500,popscroll:"yes"},posterous:{buildurl:function(tOBJ){return"http://posterous.com/share?linkto="+encodeURIComponent(rpssocial.addurlparam(tOBJ.url,"sr","posterous"))},popwidth:1020,popheight:650,popscroll:"yes"},tumblr:{buildurl:function(tOBJ){return"http://www.tumblr.com/share?v=3&u="+encodeURIComponent(rpssocial.addurlparam(tOBJ.url,"sr","tumblr"))+"&t="+encodeURIComponent(tOBJ.title)},popwidth:750,popheight:500,popscroll:"yes"},reddit:{buildurl:function(tOBJ){return"http://www.reddit.com/submit?url="+encodeURIComponent(rpssocial.addurlparam(tOBJ.url,"sr","reddit"))+"&title="+encodeURIComponent(tOBJ.title)},popwidth:750,popheight:500,popscroll:"yes"},googlebookmarks:{buildurl:function(tOBJ){return"http://www.google.com/bookmarks/mark?op=edit&bkmk="+encodeURIComponent(rpssocial.addurlparam(tOBJ.url,"sr","googlebookmarks"))+"&title="+encodeURIComponent(tOBJ.title)},popwidth:750,popheight:500,popscroll:"yes"},newsvine:{buildurl:function(tOBJ){return"http://www.newsvine.com/_tools/seed&save?u="+encodeURIComponent(rpssocial.addurlparam(tOBJ.url,"sr","newsvine"))+"&h="+encodeURIComponent(tOBJ.title)},popwidth:1020,popheight:500},"ping.fm":{buildurl:function(tOBJ){return"http://ping.fm/ref/?link="+encodeURIComponent(rpssocial.addurlparam(tOBJ.url,"sr","ping.fm"))+"&title="+encodeURIComponent(tOBJ.title)},popwidth:750,popheight:500,popscroll:"yes"},evernote:{buildurl:function(tOBJ){return"http://www.evernote.com/clip.action?url="+encodeURIComponent(rpssocial.addurlparam(tOBJ.url,"sr","evernote"))+"&title="+encodeURIComponent(tOBJ.title)},popwidth:980,popheight:500,popscroll:"yes"},friendfeed:{buildurl:function(tOBJ){return"http://www.friendfeed.com/share?url="+encodeURIComponent(rpssocial.addurlparam(tOBJ.url,"sr","friendfeed"))+"&title="+encodeURIComponent(tOBJ.title)},popwidth:750,popheight:500,popscroll:"yes"}},share:{},setapiconfig:function(ApiErr){rpssocial.apiconfig=ApiErr},init:function(){for(var tArr=rpssocial.apiconfig,i=0;i<tArr.length;i++){var tApi=tArr[i];"function"==typeof tApi.success?rpssocial.sites[tApi.site].loadapi(tApi.success):rpssocial.sites[tApi.site].loadapi()}},facebook:function(tOBJ){var url=rpssocial.defaulurlparam(tOBJ.url);url=rpssocial.addurlparam(url,"utm_medium","facebook"),FB.ui({method:"share",href:url},function(response){response&&!response.error_code?console.log("OK: "+JSON.stringify(response)):console.log("Not OK: "+JSON.stringify(response))})}};rpssocial.share={data:{bars:{}},addconfig:function(cObj){rpssocial.share.data.bars[cObj.id]=cObj},setconfig:function(cArr){for(var i=0;i<cArr.length;i++)rpssocial.share.addconfig(cArr[i])},updateurl:function(tUrl){},updatesingleurl:function(tId,tUrl,tTitle){var tBar=rpssocial.share.data.bars[tId];tBar.url=tUrl,tBar.title=tTitle,rpssocial.share.data.bars[tId]=tBar},click:function(tId,tSite){window.console&&console.log("clicked "+tSite+" in: "+tId);var tBar=rpssocial.share.data.bars[tId],tSocial=rpssocial.sites[tSite];"facebook"==tSite?rpssocial.facebook(tBar):rpssocial.share.popup(tSocial.buildurl(tBar),tSite,tSocial.popwidth,tSocial.popheight,tSocial.popscroll)},popup:function(tUrl,tSite,tWidth,tHeight,tScroll){var width=tWidth||800,height=tHeight||500,px=Math.floor(((screen.availWidth||1024)-width)/2),py=Math.floor(((screen.availHeight||700)-height)/2);return window.open(tUrl,"rps_pop_"+tSite,"width="+tWidth+",height="+tHeight+",left="+px+",top="+py+",resizable=yes,scrollbars="+tScroll)},track:function(tOBJ){window.console&&console.log(tOBJ);try{"o"===rpssocial.analytics?jsmd&&("click"===tOBJ.type?jsmd.trackMetrics("social-click",{clickObj:{socialType:tOBJ.site+"_click"}}):"success"===tOBJ.type&&jsmd.trackMetrics("social-click",{clickObj:{socialType:tOBJ.site+"_post"}})):"b"===rpssocial.analytics&&"function"==typeof bangoSocial&&bangoSocial({socialMedia:tOBJ.site})}catch(e){window.console&&console.log("error thrown while registering click tracking. Message - "+e.message)}}},function($,window,document){$(document).ready(function(){"use strict";$(".social-button").hover(function(){$(".share-icon").addClass("active")},function(){$(".share-icon").removeClass("active")}),rpssocial.init()})}(window.jQuery,window,document);