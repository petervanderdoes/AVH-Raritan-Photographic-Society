var rpssocial={apiconfig:[],analytics:"o",setanalytics:function(a_id){rpssocial.analytics=a_id},addurlparam:function(url,param,value){var qstring=/\?.+$/;return qstring.test(url)?url+"&"+param+"="+value:url+"?"+param+"="+value},defaulurlparam:function(url){return url=rpssocial.addurlparam(url,"utm_campaign","general"),url=rpssocial.addurlparam(url,"utm_source","site")},sites:{facebook:{buildurl:function(t_obj){var url=rpssocial.defaulurlparam(t_obj.url);return url=rpssocial.addurlparam(url,"utm_medium","facebook"),"http://www.facebook.com/share.php?u="+encodeURIComponent(url)+"&title="+encodeURIComponent(t_obj.title)},popwidth:550,popheight:420,popscroll:"no",loadapi:function(cb){!function(d,debug){var js,id="facebook-jssdk",ref=d.getElementsByTagName("script")[0];d.getElementById(id)||(js=d.createElement("script"),js.id=id,js.async=!0,js.src="//connect.facebook.net/en_US/all"+(debug?"/debug":"")+".js",ref.parentNode.insertBefore(js,ref))}(document,!1),window.fbAsyncInit=function(){FB.init({appId:"1509711475952744",xfbml:!0,version:"v2.1"})}}},twitter:{buildurl:function(t_obj){var url=rpssocial.defaulurlparam(t_obj.url);return url=rpssocial.addurlparam(url,"utm_medium","twitter"),"http://twitter.com/intent/tweet?url="+encodeURIComponent(url)+"&text="+encodeURIComponent(t_obj.title)},popwidth:550,popheight:460,popscroll:"no",loadapi:function(cb){window.twttr=function(d,s,id){var t,js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id))return js=d.createElement(s),js.id=id,js.src="//platform.twitter.com/widgets.js",fjs.parentNode.insertBefore(js,fjs),window.twttr||(t={_e:[],ready:function(f){t._e.push(f)}})}(document,"script","twitter-wjs"),window.twttr.ready(function(twttr){twttr.events.bind("click",function(event){window.rpssocial.share.track({type:"click",site:"twitter"})}),"function"==typeof cb&&cb.apply()})}},googleplus:{buildurl:function(t_obj){var url=rpssocial.defaulurlparam(t_obj.url);return url=rpssocial.addurlparam(url,"utm_medium","googleplus"),"https://plus.google.com/share?url="+encodeURIComponent(url)+"&hl=en"},popwidth:600,popheight:600,popscroll:"yes",loadapi:function(cb){jQuery.getScript("https://apis.google.com/js/plusone.js",function(){"function"==typeof cb&&cb.apply()})}},linkedin:{buildurl:function(t_obj){var url=rpssocial.defaulurlparam(t_obj.url);return url=rpssocial.addurlparam(url,"utm_medium","linkedin"),"http://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(rpssocial.addurlparam(t_obj.url,"sr","share_linkedin"))+"&title="+encodeURIComponent(t_obj.title)},popwidth:550,popheight:570,popscroll:"no",loadapi:function(cb){jQuery.getScript("http://platform.linkedin.com/in.js",function(){"function"==typeof cb&&cb.apply()})}},email:{buildurl:function(t_obj){return"mailto:?subject=[Raritan Photographic Society] "+t_obj.title+"&body="+t_obj.title+": "+rpssocial.addurlparam(t_obj.url,"sr","email")},popwidth:1,popheight:1,popscroll:"no"},buffer:{buildurl:function(t_obj){return"http://bufferapp.com/add?text="+encodeURIComponent(t_obj.title)+"&url="+encodeURIComponent(rpssocial.addurlparam(t_obj.url,"sr","buffer"))},popwidth:750,popheight:500,popscroll:"yes"},digg:{buildurl:function(t_obj){return"http://www.digg.com/submit?phase=2&url="+encodeURIComponent(rpssocial.addurlparam(t_obj.url,"sr","digg"))+"&title="+encodeURIComponent(t_obj.title)},popwidth:970,popheight:500,popscroll:"yes"},stumbleupon:{buildurl:function(t_obj){return"http://www.stumbleupon.com/submit?url="+encodeURIComponent(rpssocial.addurlparam(t_obj.url,"sr","stumbleupon"))+"&title="+encodeURIComponent(t_obj.title)},popwidth:750,popheight:500,popscroll:"yes"},delicious:{buildurl:function(t_obj){return"http://del.icio.us/post?url="+encodeURIComponent(rpssocial.addurlparam(t_obj.url,"sr","delicious"))+"&title="+encodeURIComponent(t_obj.title)},popwidth:750,popheight:500,popscroll:"yes"},technorati:{buildurl:function(t_obj){return"http://technorati.com/faves?add="+encodeURIComponent(rpssocial.addurlparam(t_obj.url,"sr","technorati"))+"&title="+encodeURIComponent(t_obj.title)},popwidth:750,popheight:500,popscroll:"yes"},posterous:{buildurl:function(t_obj){return"http://posterous.com/share?linkto="+encodeURIComponent(rpssocial.addurlparam(t_obj.url,"sr","posterous"))},popwidth:1020,popheight:650,popscroll:"yes"},tumblr:{buildurl:function(t_obj){return"http://www.tumblr.com/share?v=3&u="+encodeURIComponent(rpssocial.addurlparam(t_obj.url,"sr","tumblr"))+"&t="+encodeURIComponent(t_obj.title)},popwidth:750,popheight:500,popscroll:"yes"},reddit:{buildurl:function(t_obj){return"http://www.reddit.com/submit?url="+encodeURIComponent(rpssocial.addurlparam(t_obj.url,"sr","reddit"))+"&title="+encodeURIComponent(t_obj.title)},popwidth:750,popheight:500,popscroll:"yes"},googlebookmarks:{buildurl:function(t_obj){return"http://www.google.com/bookmarks/mark?op=edit&bkmk="+encodeURIComponent(rpssocial.addurlparam(t_obj.url,"sr","googlebookmarks"))+"&title="+encodeURIComponent(t_obj.title)},popwidth:750,popheight:500,popscroll:"yes"},newsvine:{buildurl:function(t_obj){return"http://www.newsvine.com/_tools/seed&save?u="+encodeURIComponent(rpssocial.addurlparam(t_obj.url,"sr","newsvine"))+"&h="+encodeURIComponent(t_obj.title)},popwidth:1020,popheight:500},"ping.fm":{buildurl:function(t_obj){return"http://ping.fm/ref/?link="+encodeURIComponent(rpssocial.addurlparam(t_obj.url,"sr","ping.fm"))+"&title="+encodeURIComponent(t_obj.title)},popwidth:750,popheight:500,popscroll:"yes"},evernote:{buildurl:function(t_obj){return"http://www.evernote.com/clip.action?url="+encodeURIComponent(rpssocial.addurlparam(t_obj.url,"sr","evernote"))+"&title="+encodeURIComponent(t_obj.title)},popwidth:980,popheight:500,popscroll:"yes"},friendfeed:{buildurl:function(t_obj){return"http://www.friendfeed.com/share?url="+encodeURIComponent(rpssocial.addurlparam(t_obj.url,"sr","friendfeed"))+"&title="+encodeURIComponent(t_obj.title)},popwidth:750,popheight:500,popscroll:"yes"}},share:{},setapiconfig:function(api_arr){rpssocial.apiconfig=api_arr},init:function(){for(var t_arr=rpssocial.apiconfig,i=0;i<t_arr.length;i++){var t_api=t_arr[i];"function"==typeof t_api.success?rpssocial.sites[t_api.site].loadapi(t_api.success):rpssocial.sites[t_api.site].loadapi()}},facebook:function(t_obj){var url=rpssocial.defaulurlparam(t_obj.url);url=rpssocial.addurlparam(url,"utm_medium","facebook"),FB.ui({method:"share",href:url},function(response){console.log(response&&!response.error_code?"OK: "+JSON.stringify(response):"Not OK: "+JSON.stringify(response))})}};rpssocial.share={data:{bars:{}},addconfig:function(c_obj){rpssocial.share.data.bars[c_obj.id]=c_obj},setconfig:function(c_arr){for(var i=0;i<c_arr.length;i++)rpssocial.share.addconfig(c_arr[i])},updateurl:function(t_url){},updatesingleurl:function(t_id,t_url,t_title){var t_bar=rpssocial.share.data.bars[t_id];t_bar.url=t_url,t_bar.title=t_title,rpssocial.share.data.bars[t_id]=t_bar},click:function(t_id,t_site){window.console&&console.log("clicked "+t_site+" in: "+t_id);var t_bar=rpssocial.share.data.bars[t_id],t_social=rpssocial.sites[t_site];"facebook"==t_site?rpssocial.facebook(t_bar):rpssocial.share.popup(t_social.buildurl(t_bar),t_site,t_social.popwidth,t_social.popheight,t_social.popscroll)},popup:function(t_url,t_site,t_width,t_height,t_scroll){var width=t_width||800,height=t_height||500,px=Math.floor(((screen.availWidth||1024)-width)/2),py=Math.floor(((screen.availHeight||700)-height)/2);return window.open(t_url,"rps_pop_"+t_site,"width="+t_width+",height="+t_height+",left="+px+",top="+py+",resizable=yes,scrollbars="+t_scroll)},track:function(t_obj){window.console&&console.log(t_obj);try{"o"===rpssocial.analytics?jsmd&&("click"===t_obj.type?jsmd.trackMetrics("social-click",{clickObj:{socialType:t_obj.site+"_click"}}):"success"===t_obj.type&&jsmd.trackMetrics("social-click",{clickObj:{socialType:t_obj.site+"_post"}})):"b"===rpssocial.analytics&&"function"==typeof bangoSocial&&bangoSocial({socialMedia:t_obj.site})}catch(e){window.console&&console.log("error thrown while registering click tracking. Message - "+e.message)}}},function($,window,document){$(document).ready(function(){"use strict";$(".social-button").hover(function(){$(".share-icon").addClass("active")},function(){$(".share-icon").removeClass("active")}),rpssocial.init()})}(window.jQuery,window,document);